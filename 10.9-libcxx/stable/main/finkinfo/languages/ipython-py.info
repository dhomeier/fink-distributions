Info4: <<
Package: ipython-py%type_pkg[python]
Version: 6.4.0
Revision: 1
Type: python (3.4 3.5 3.6)
Maintainer: Derek Homeier <dhomeie@gwdg.de>

Depends: <<
  python%type_pkg[python], 
  backcall-py%type_pkg[python],
  ipywidgets-py%type_pkg[python],
  jedi-py%type_pkg[python],
  jinja2-py%type_pkg[python],
  jsonschema-py%type_pkg[python],
  jupyter-client-py%type_pkg[python],
  markupsafe-py%type_pkg[python],
  mistune-py%type_pkg[python],
  nbconvert-py%type_pkg[python],
  nbformat-py%type_pkg[python],
  path-py%type_pkg[python],
  pexpect-py%type_pkg[python],
  pickleshare-py%type_pkg[python] (>= 0.7.4-1),
  prompt-toolkit-py%type_pkg[python],
  pygments-py%type_pkg[python],
  pyqt5-mac-py%type_pkg[python] | pyqt4-mac-py%type_pkg[python],
  simplegeneric-py%type_pkg[python],
  terminado-py%type_pkg[python],
  testpath-py%type_pkg[python],
  tornado-py%type_pkg[python],
  traitlets-py%type_pkg[python] (>= 4.2.0-1),
  zmq-py%type_pkg[python] (>= 15.0.0-1),
  ( %type_pkg[python] <= 34 ) typing-py%type_pkg[python]
<<

Recommends: <<
  ipykernel-py%type_pkg[python],
  matplotlib-py%type_pkg[python],
  zopeinterface-py%type_pkg[python],
  pandoc
<<

BuildDepends: <<
  python%type_pkg[python],
  ptyprocess-py%type_pkg[python],
  setuptools-tng-py%type_pkg[python],
  sphinx-py%type_pkg[python] (>= 1.3.0-1),
  libzmq6
<<

Source: https://pypi.io/packages/source/i/ipython/ipython-%v.tar.gz
Source-MD5: c3709c9efe3132b72f1c7c13578d107f
Source-Checksum: SHA256(eca537aa61592aca2fef4adea12af8e42f5c335004dfa80c78caf80e8b525e5c)

CompileScript: <<
 #!/bin/sh -ev
 %p/bin/python%type_raw[python] setup.py build
 cd docs
 mkdir -p build/html
 make LANG=en_US.UTF-8 PYTHONPATH=../build/lib PYTHON=%p/bin/python%type_raw[python] SPHINXBUILD=%p/bin/sphinx-build%type_raw[python] html || echo "Please install ipykernel-py%type_pkg[python] for the Sphinx build!"
<<

InstallScript: <<
 #!/bin/bash -ev
 /usr/bin/find %b/build/lib -name '*.pyc' -delete
 %p/bin/python%type_raw[python] setup.py install --root=%d

 # mv %i/share/doc/ipython{,-py%type_raw[python]}

 for file in %i/bin/*; do
   echo mv $file ${file}-py%type_pkg[python]
   mv $file ${file}-py%type_pkg[python]
 done

 for file in  %i/share/man/man1/*.1; do
   gzip -9 $file
 done

 for file in  %i/share/man/man1/*.1.gz; do
   echo mv $file ${file%%.1.gz}-py%type_pkg[python].1.gz
   mv $file ${file%%.1.gz}-py%type_pkg[python].1.gz
 done

<<
DocFiles: README.rst PKG-INFO docs/build/html
Description: Replacement Python interpreter (Jupyter)
DescDetail: <<
IPython is a replacement for the interactive Python interpreter with many
extra features for object introspection, system shell access and with its 
own special command system  for adding functionality when working 
interactively. It serves  as an embeddable, ready to use interpreter for 
your own programs and it offers a flexible framework which can be used as
the base environment for other system with Python as the underlying
language. Specifically scientific environments like Mathematica, IDL and
Matlab inspired its design, but similar ideas can be useful in many fields.

This package provides the ipython shell; for using the Jupyter kernel to
run IPython notebooks, install the notebook-py%type_pkg[python] package.
<<
PostInstScript: <<

   # Remove the old if they exist
   update-alternatives --auto ipython
   update-alternatives --auto pycolor
   update-alternatives --auto irunner
   update-alternatives --remove ipython %p/bin/ipython%type_raw[python]
   update-alternatives --remove pycolor %p/bin/pycolor%type_raw[python]
   update-alternatives --remove irunner %p/bin/irunner%type_raw[python]

   # Now the new setup
   update-alternatives --verbose --install %p/bin/ipython ipython %p/bin/ipython-py%type_pkg[python] %type_pkg[python] \
	--slave %p/bin/ipcluster ipcluster %p/bin/ipcluster-py%type_pkg[python] \
	--slave %p/bin/ipcontroller ipcontroller %p/bin/ipcontroller-py%type_pkg[python] \
	--slave %p/bin/ipengine ipengine %p/bin/ipengine-py%type_pkg[python] \
	--slave %p/bin/iplogger iplogger %p/bin/iplogger-py%type_pkg[python] \
	--slave %p/bin/iptest iptest %p/bin/iptest-py%type_pkg[python] \
	--slave %p/bin/irunner irunner %p/bin/irunner-py%type_pkg[python] \
	--slave %p/bin/pycolor pycolor %p/bin/pycolor-py%type_pkg[python] \
	--slave %p/share/man/man1/ipython.1.gz ipython_man %p/share/man/man1/ipython-py%type_pkg[python].1.gz \
	--slave %p/share/man/man1/ipcluster.1.gz ipcluster_man %p/share/man/man1/ipcluster-py%type_pkg[python].1.gz \
	--slave %p/share/man/man1/ipcontroller.1.gz ipcontroller_man %p/share/man/man1/ipcontroller-py%type_pkg[python].1.gz \
	--slave %p/share/man/man1/ipengine.1.gz ipengine_man %p/share/man/man1/ipengine-py%type_pkg[python].1.gz \
	--slave %p/share/man/man1/iplogger.1.gz iplogger_man %p/share/man/man1/iplogger-py%type_pkg[python].1.gz \
	--slave %p/share/man/man1/irunner.1.gz irunner_man %p/share/man/man1/irunner-py%type_pkg[python].1.gz \
	--slave %p/share/man/man1/pycolor.1.gz pycolor_man %p/share/man/man1/pycolor-py%type_pkg[python].1.gz

  echo "You can inspect the links by running:"
  echo "  update-alternatives --list ipython"
  echo "  update-alternatives --display ipython"

<<

PreRmScript: <<

   # Remove the old
   update-alternatives --remove ipython %p/bin/ipython%type_raw[python]
   update-alternatives --remove pycolor %p/bin/pycolor%type_raw[python]
   update-alternatives --remove irunner %p/bin/irunner%type_raw[python]

  if [ $1 != "upgrade" ]; then
     echo "update-alternatives --verbose --remove ipython %p/bin/ipython-py%type_pkg[python]"
     update-alternatives --verbose --remove ipython %p/bin/ipython-py%type_pkg[python]
  else
    echo "Do not remove during upgrade"
  fi
<<

# TODO: add twisted, foolscap, pyobjc
# 3 Errors, 8 Failures with 3.6
InfoTest: <<
  TestDepends: nose-py%type_pkg[python], ipykernel-py%type_pkg[python], zopeinterface-py%type_pkg[python]
  TestScript: <<
    #!/bin/bash -ev
    export PYTHONPATH=%b/build/lib:%p/lib/qt4-x11/lib/python%type_raw[python]/site-packages:%p/lib/qt4-mac/lib/python%type_raw[python]/site-packages
    cd build/lib
    %p/bin/python%type_raw[python] -B IPython/testing/iptest.py -v IPython || exit 1
  <<
  TestSuiteSize: medium
<<

DescPackaging: <<
Python3(.3+) version only as of 6.0.0.

Circular dependency nightmare with ipykernel; ipython does build without it,
but doc build fails, and ipykernel definitely should be installed afterwards!

PyPI page lists 1-2 dozen additional potential dependencies not in Fink,
but build, docbuild and tests seem to work so far with these.
4 errors/13 failures in test suite.

PDF doc build returns with exit 2 due to (encoding) errors in pdflatex.

Previous maintainers: Andrea Riciputi <ariciputi@users.sourceforge.net>
		Kurt Schwehr <goatbar@users.sourceforge.net>
<<


License: BSD
Homepage: http://ipython.org/

# Info4
<<
