# -*- coding: ascii; tab-width: 4 -*-
Info3: <<
Package: libzmq6
Version: 4.1.6
Revision: 1
Description: No config transport layer
License: LGPL
Maintainer: Kurt Schwehr <goatbar@users.sourceforge.net>

Depends: %N-shlibs (= %v-%r)
BuildDepends: autoconf2.6, libtool2, libsodium13
BuildDependsOnly: true
GCC: 4.0

Source: https://codeload.github.com/zeromq/zeromq4-1/tar.gz/v%v
Source-MD5: 38d786ff9a96ff75c1dccd0fc3d56531
SourceRename: zeromq-%v.tar.gz
SourceDirectory: zeromq4-1-%v

PatchScript: <<
	# configure is not included in tarball, have to recreate!
	./autogen.sh
	# Patch configure to not link like Puma on Yosemite
	perl -pi.bak -e 's|10\.\[012\]\*|10.[012][,.]*|g' configure
	# Fix manpage rules in doc Makefile
	perl -pi.bak -e 's/^(#)(am__append_[1-5] = |dist_man_MANS = )/${2}/;' doc/Makefile
	perl -pi -e 's/^(#)(.txt.|\t)(html|xml|asciidoc|xmlto|\t-azmq_version)/${2}${3}/;' doc/Makefile
<<

InfoTest: <<
	# 51 PASS, 11 FAIL
	TestScript: <<
		make check || exit 1
	<<
	TestSuiteSize: medium
<<

SplitOff: <<
	Package: %N-shlibs
	Depends: libsodium13-shlibs
	DocFiles: AUTHORS COPYING COPYING.LESSER INSTALL MAINTAINERS NEWS README.md
	Files: lib/libzmq.*.dylib
	Shlibs: %p/lib/libzmq.5.dylib 6.0.0 libzmq (>= 4.1.6-1)
<<

Conflicts: libzmq2, libzmq4, libzmq6
Replaces: libzmq2, libzmq4, libzmq6

Homepage: http://www.zeromq.org
DescDetail: <<
MQ (ZeroMQ, 0MQ, zmq) looks like an embeddable networking library but
acts like a concurrency framework. It gives you sockets that carry
whole messages across various transports like in-process,
inter-process, TCP, and multicast. You can connect sockets N-to-N with
patterns like fanout, pub-sub, task distribution, and
request-reply. It's fast enough to be the fabric for clustered
products. Its asynchronous I/O model gives you scalable multicore
applications, built as asynchronous message-processing tasks. It has a
score of language APIs and runs on most operating systems.
<<

# Info3
<<
