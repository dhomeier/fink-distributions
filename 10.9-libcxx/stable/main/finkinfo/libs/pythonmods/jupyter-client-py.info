# -*- coding: ascii; tab-width: 4 -*-
Info3: <<

Package: jupyter-client-py%type_pkg[python]
Version: 5.2.3
Revision: 1
Maintainer: Kurt Schwehr <goatbar@users.sourceforge.net>
License: BSD
Type: python (2.7 3.4 3.5 3.6)
Homepage:https://pypi.python.org/pypi/jupyter_client

Source: https://pypi.io/packages/source/j/jupyter_client/jupyter_client-%v.tar.gz
Source-MD5: b474233b67b542889ed54c07ed56e6b3

Depends: <<
  python%type_pkg[python]-shlibs,
  dateutil-py%type_pkg[python] (>= 2.2-1),
  jupyter-core-py%type_pkg[python] (>= 4.4.0-1),
  traitlets-py%type_pkg[python] (>= 4.2.1-1),
  zmq-py%type_pkg[python] (>= 16.0.1-1)
<<
BuildDepends: python%type_pkg[python], setuptools-tng-py%type_pkg[python]

Description: Jupyter protocol implementation

DescDetail: <<
jupyter_client contains the reference implementation of the Jupyter
protocol. It also provides client and kernel management APIs for
working with kernels.

It also provides the jupyter kernelspec entrypoint for installing
kernelspecs for use with Jupyter frontends.

Jupyter protocol:

http://jupyter-client.readthedocs.org/en/latest/messaging.html
<<

DocFiles: docs
# FIX: build the docs with sphinx

CompileScript: %p/bin/python%type_raw[python] setup.py build

InfoTest: <<
    TestDepends: <<
        pytest-py%type_pkg[python],
        ipython-py%type_pkg[python],
        ipykernel-py%type_pkg[python],
        mock-py%type_pkg[python],
        zmq-py%type_pkg[python] (>= 17.0.0-1)
    <<
    TestScript: <<
        #!/bin/bash -ev
        PYTHONPATH=%b/build/lib %p/bin/pytest-%type_raw[python] || exit 1
    <<
    TestSuiteSize: medium
<<

InstallScript: <<
#!/bin/bash -ev
 find build -name __pycache__ -or -name '*.py[oc]' -exec rm -r {} \;
 %p/bin/python%type_raw[python] setup.py install --root=%d
 for file in %i/bin/*; do
   echo mv ${file}{,%type_raw[python]}
   mv ${file}{,%type_raw[python]}
 done
<<

PostInstScript: <<
  update-alternatives --install %p/bin/jupyter-kernelspec jupyter-kernelspec %p/bin/jupyter-kernelspec%type_raw[python] %type_pkg[python]
<<

PreRmScript: <<
  if [ $1 != "upgrade" ]; then
     update-alternatives --verbose --remove jupyter-kernelspec %p/bin/jupyter-kernelspec%type_raw[python]
  else
    echo "Do not remove during upgrade"
  fi
<<

# Info3
<<
