Info3: <<

Package: nbconvert-py%type_pkg[python]
Version: 5.3.1
Revision: 1
Maintainer: Derek Homeier <dhomeie@gwdg.de>
License: BSD
Type: python (2.7 3.5 3.6)
Homepage: https://pypi.org/project/nbconvert
Source: https://pypi.io/packages/source/n/nbconvert/nbconvert-%v.tar.gz
Source-MD5: c128d0d93d02f70a85429a383dae96d2

Depends: <<
  python%type_pkg[python]-shlibs,
  entrypoints-py%type_pkg[python],
  nbformat-py%type_pkg[python],
  pygments-py%type_pkg[python],
  testpath-py%type_pkg[python]
<<
BuildDepends: python%type_pkg[python], setuptools-tng-py%type_pkg[python]
Recommends: inkscape   # required by preprocessors.svg2pdf

Description: Jupyter Notebook Conversion

DescDetail: <<
The nbconvert tool, jupyter nbconvert, converts notebooks to various other
formats via Jinja templates. The nbconvert tool allows you to convert an
.ipynb notebook file into various static formats including:

HTML
LaTeX
PDF
Reveal JS
Markdown (md)
ReStructured Text (rst)
executable script
<<

DescPackaging: <<
Tests have circular dependencies with ipykernel and ipython; for testing
install the latter and 'rebuild -m' afterwards.
2-3 unicode-related test failures; with ipython < 5.x several errors on
spawning a kernel.
<<

CompileScript: <<
  #!/bin/bash -ev
  %p/bin/python%type_raw[python] setup.py build
  # will probably break for py27
  if [ %type_pkg[python] -ge 30 ]; then
    perl -pi -e 's|(bin/env) (python3$)|$1 python%type_raw[python]|;' build/lib/nbconvert/filters/filter_links.py
  fi
<<

InfoTest: <<
  TestDepends: <<
    pytest-py%type_pkg[python],
    bleach-py%type_pkg[python],
    ipykernel-py%type_pkg[python],
    pandas-py%type_pkg[python] (>= 0.18.1),
    pandocfilters-py%type_pkg[python],
    inkscape
  <<
  TestScript: <<
    PYTHONPATH=%b/build/lib %p/bin/py.test-%type_raw[python] nbconvert || exit 1
  <<
  TestSuiteSize: small
<<

InstallScript: <<
  #!/bin/bash -ev
  find build -name "*.pyc" -delete
  %p/bin/python%type_raw[python] setup.py install --root=%d
  for file in %i/bin/*; do
    echo mv ${file}{,%type_raw[python]}
    mv ${file}{,%type_raw[python]}
  done
  cd %i
  find lib/python%type_raw[python]/site-packages/nbconvert/tests -name '*.py[oc]' -exec rm {} \;
  python%type_raw[python] -m compileall -d %p lib/python%type_raw[python]/site-packages/nbconvert
<<

PostInstScript: <<
  update-alternatives --install %p/bin/nbconvert nbconvert %p/bin/nbconvert%type_raw[python] %type_pkg[python]
<<

PreRmScript: <<
  if [ $1 != "upgrade" ]; then
     update-alternatives --verbose --remove nbconvert %p/bin/nbconvert%type_raw[python]
  else
    echo "Do not remove during upgrade"
  fi
<<

# Info3
<<
